"use strict";(self.webpackChunkxxx252525_github_io=self.webpackChunkxxx252525_github_io||[]).push([[3760],{81021:(i,s)=>{s.A=(i,s)=>{const e=i.__vccOpts||i;for(const[i,a]of s)e[i]=a;return e}},77596:(i,s,e)=>{e.r(s),e.d(s,{comp:()=>g,data:()=>m});var a=e(6254);const l="data:image/png;base64,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",n=e.p+"assets/img/image-20241220131447127.9bfad1c4.png",t=e.p+"assets/img/image-20241220131709265.3533583c.png",r=e.p+"assets/img/image-20241220143513395.5f73ea96.png",d=e.p+"assets/img/image-20241220143925065.b43aeb47.png",o=e.p+"assets/img/image-20241220145319198.0371f7ff.png",h=e.p+"assets/img/image-20241220170544624.38d68e44.png",p={},g=(0,e(81021).A)(p,[["render",function(i,s){return(0,a.uX)(),(0,a.CE)("div",null,s[0]||(s[0]=[(0,a.Fv)('<h1 id="flash-memory-字库-如何备份" tabindex="-1"><a class="header-anchor" href="#flash-memory-字库-如何备份"><span>Flash Memory(字库)如何备份</span></a></h1><p>字库就是Flash Memory。</p><p>字库通常指以下关键数据：</p><ol><li><strong>NVRAM（Non-Volatile Random Access Memory）</strong>：包含 IMEI、WiFi MAC 地址、蓝牙地址等校验信息。</li><li><strong>Modem 分区（基带数据）</strong>：存储设备通信相关的驱动程序和配置。</li><li><strong>EFS（Encrypting File System）</strong>：高通设备中存储 IMEI、设备标识符等关键信息。</li><li><strong>TEE（Trusted Execution Environment）</strong>：存储安全环境数据。</li><li><strong>Persist 分区</strong>：保存传感器校准、设备认证等重要数据。</li></ol><p>如果你在刷机的过程中出现了基带丢失，那么你将无法使用移动网络。比如出现了基带未知的错误，如图：</p><figure><img src="'+l+'" alt="image-20241220130058911" tabindex="0" loading="lazy"><figcaption>image-20241220130058911</figcaption></figure><h2 id="基带版本未知错误" tabindex="-1"><a class="header-anchor" href="#基带版本未知错误"><span>基带版本未知错误</span></a></h2><p>基带版本未知有几种情况，分别是：</p><ol><li>刷姬失败，刷姬的过程中出现错误，未能正确的刷入基带分区</li><li>ROM与基带不匹配</li><li>某些模块导致出现这种错误，并且无法更改回去</li><li>硬件损坏</li><li>没有这个硬件</li><li>EFS分区和NV数据损坏，基带分区损坏</li></ol><p>例如，我的3588开发板中的云手机就不存在这个硬件，所以也会出现一些未知错误，如图：</p><img src="'+n+'" alt="image-20241220131447127" style="zoom:67%;"><h2 id="判断" tabindex="-1"><a class="header-anchor" href="#判断"><span>判断</span></a></h2><p>如何进行判定呢？</p><p>在拨号界面输入 <code>*#06#</code> 检查 IMEI：</p><ul><li>IMEI 正常：说明问题可能在基带固件。</li><li>IMEI 丢失：可能是 EFS 或 NV 分区问题、要么就是基带分区加载失败</li></ul><figure><img src="'+t+'" alt="image-20241220131709265" tabindex="0" loading="lazy"><figcaption>image-20241220131709265</figcaption></figure><p>查看基带版本：</p><ul><li>如果显示为“未知”或“无”，说明基带分区损坏。</li></ul><figure><img src="'+l+'" alt="image-20241220130058911" tabindex="0" loading="lazy"><figcaption>image-20241220130058911</figcaption></figure><p>综合诊断，说明基带分区出现了问题，只能重新刷入基带分区。</p><h2 id="解决" tabindex="-1"><a class="header-anchor" href="#解决"><span>解决</span></a></h2><p>解决的方法有两种：</p><ol><li>直接重新刷机，清楚手机数据</li><li>重新刷入基带模块</li></ol><p>刷入基带模块方法很多，可以利用flash刷写工具、可以使用adb、可以使用TWRP等方法。</p><h3 id="准备工具" tabindex="-1"><a class="header-anchor" href="#准备工具"><span>准备工具</span></a></h3><p><strong>Qualcomm Devices(高通)</strong>：</p><ul><li><p>QPST（Qualcomm Product Support Tool）</p><p>蓝凑云尊享下载：<a href="https://www.ilanzou.com/s/VihyPdDF" target="_blank" rel="noopener noreferrer">https://www.ilanzou.com/s/VihyPdDF</a></p></li><li><p>EFS Professional</p></li></ul><p><strong>MTK Devices(联发科)</strong>：</p><ul><li><p>SP Flash Tool</p><p>蓝凑云尊享下载：<a href="https://www.ilanzou.com/s/SANyPdQg" target="_blank" rel="noopener noreferrer">https://www.ilanzou.com/s/SANyPdQg</a></p></li><li><p>MTK Droid Tools</p><p>蓝凑云尊享下载：<a href="https://www.ilanzou.com/s/2mnyPdqo" target="_blank" rel="noopener noreferrer">https://www.ilanzou.com/s/2mnyPdqo</a></p></li></ul><p>分区访问工具：adb、TWRP</p><h3 id="备份基带数据" tabindex="-1"><a class="header-anchor" href="#备份基带数据"><span>备份基带数据</span></a></h3><p>将备份的基带分区（如 <code>modem.img</code> 或 <code>nvram.bin</code>）复制到设备，如果你的设备是正常的那么直接备份就可以了，如果你的设备已经出现错误，并且没有提前备份，那么可以直接使用ROM包里面的<code>modem.img</code>，只有卡刷包里面才能提取出来<code>modem.img</code>，线刷包里面是没有的。</p><figure><img src="'+r+'" alt="image-20241220143513395" tabindex="0" loading="lazy"><figcaption>image-20241220143513395</figcaption></figure><h4 id="使用adb和dd备份" tabindex="-1"><a class="header-anchor" href="#使用adb和dd备份"><span>使用adb和dd备份</span></a></h4><p>和基带相关的分区通常是：modem、modemst1、modemst2。使用adb进入shell控制台。</p><p>命令如下：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">adb</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> shell</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">                                                                                      </span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alioth:/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">su</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alioth:/</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> # ls /dev/block/by-name/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="'+d+'" alt="image-20241220143925065" tabindex="0" loading="lazy"><figcaption>image-20241220143925065</figcaption></figure><p>在 A/B 分区设备上，系统会自动切换到当前使用的分区（Slot）。进入手机shell进行操作：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getprop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ro.boot.slot_suffix</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>输出会是 <code>_a</code> 或 <code>_b</code>，表示当前设备正在使用 <code>modem_a</code> 或 <code>modem_b</code>。</p><p>也可以通过fastboot来进行一个查询，在Windows的powershell中操作如下：</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fastboot getvar current</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">slot</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>返回内容如下：</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt; waiting </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> any device &gt;</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">current</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">slot: b</span></span>\n<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">Finished. Total time: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0.</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">003s</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>手动打包img文件：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">adb</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> shell</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">su</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> if=/dev/block/by-name/modem_a</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of=/sdcard/modem_a.img</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> if=/dev/block/by-name/modem_b</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of=/sdcard/modem_b.img</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> if=/dev/block/by-name/modemst1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of=/sdcard/modemst1.img</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> if=/dev/block/by-name/modemst2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of=/sdcard/modemst2.img</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="'+o+'" alt="image-20241220145319198" tabindex="0" loading="lazy"><figcaption>image-20241220145319198</figcaption></figure><p>打包好了之后传输到电脑做一个备份。</p><h3 id="恢复基带数据" tabindex="-1"><a class="header-anchor" href="#恢复基带数据"><span>恢复基带数据</span></a></h3><h4 id="使用adb和dd恢复" tabindex="-1"><a class="header-anchor" href="#使用adb和dd恢复"><span>使用adb和dd恢复</span></a></h4><p>操作如下：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">adb</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> shell</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">su</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> if=/sdcard/modem_a.img</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of=/dev/block/by-name/modem_a</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> if=/sdcard/modem_b.img</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of=/dev/block/by-name/modem_b</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> if=/sdcard/modemst1.img</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of=/dev/block/by-name/modemst1</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">dd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> if=/sdcard/modemst2.img</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of=/dev/block/by-name/modemst2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>TWRP：</p><ul><li>在 TWRP 中选择“恢复”，加载之前备份的文件。</li></ul><p>修复权限：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">chmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 600</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/block/by-name/modem</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>重启设备，检查基带信息是否恢复。</p><h4 id="使用fastboot刷写" tabindex="-1"><a class="header-anchor" href="#使用fastboot刷写"><span>使用fastboot刷写</span></a></h4><p>将基带文件（如 <code>modem.img</code>）放在 fastboot 目录下。</p><p>进入 fastboot 模式：</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">adb reboot bootloader</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>刷写基带：</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fastboot flash modem modem.img</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后重启设备：</p><div class="language-powershell line-numbers-mode" data-highlighter="shiki" data-ext="powershell" data-title="powershell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">fastboot reboot</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果官方固件包中只有一个<code>modem</code>文件，而没有单独的<code>modem_a</code>、<code>modem_b</code>、<code>modemst1</code>、<code>modemst2</code>等文件，直接刷入单个文件就可以了，和上面的步骤一样。</p><h2 id="字库备份" tabindex="-1"><a class="header-anchor" href="#字库备份"><span>字库备份</span></a></h2><p>主要备份的内容如下：</p><ol><li><strong>modem_a.img</strong>：设备的主modem固件。</li><li><strong>modem_b.img</strong>：第二个modem固件（如果设备使用双modem架构）。</li><li><strong>modemst1</strong>：存储modem状态1的文件。</li><li><strong>modemst2</strong>：存储modem状态2的文件。</li><li><strong>modem.img</strong>：包含设备的modem固件。</li><li><strong>modem.elf</strong>：modem固件的执行代码。</li><li><strong>modem.bin</strong>：存储modem固件的二进制文件。</li><li><strong>baseband.img</strong>：存储基带固件，包含低层无线电通信协议。</li><li><strong>radio.img</strong>：无线电固件文件，管理无线电信号。</li><li><strong>radio.elf</strong>：无线电固件的执行代码文件。</li><li><strong>radio.bin</strong>：无线电固件的二进制文件。</li><li><strong>nvram.img</strong>：设备的非易失性内存（NVM）数据，保存了无线通信的配置和参数。</li><li><strong>nvram.md5</strong>：<code>nvram.img</code>的校验文件。</li><li><strong>props</strong>：包含设备无线电配置的文件，定义设备支持的网络、频段、通信协议等。</li><li><strong>wcnss_qcom.cfg</strong>：Qualcomm芯片设备的无线通信配置文件。</li><li><strong>pds_mpss.mbn</strong>：包含高通平台的无线通信协议。</li><li><strong>mpss.mbn</strong>：高通平台用于基带和无线电通信的固件文件。</li><li><strong><a href="http://libmodem.so" target="_blank" rel="noopener noreferrer">libmodem.so</a></strong>：modem模块的共享库文件，通常用于设备的无线通信管理。</li><li><strong><a href="http://libradio.so" target="_blank" rel="noopener noreferrer">libradio.so</a></strong>：支持无线电功能的共享库文件。</li><li><strong><a href="http://libwcnss.so" target="_blank" rel="noopener noreferrer">libwcnss.so</a></strong>：用于高通设备的无线通信共享库文件。</li><li><strong><a href="http://libaudio.so" target="_blank" rel="noopener noreferrer">libaudio.so</a></strong>：部分设备中与音频相关的无线电模块文件。</li><li><strong>firmware.bin</strong>：设备固件的二进制文件，包含设备的无线通信固件。</li><li><strong>modem_fw.bin</strong>：特定modem固件文件，包含无线电控制相关的固件。</li><li><strong>radio_fw.bin</strong>：无线电固件文件，控制无线电模块的功能。</li><li><strong>boot.img</strong>：设备的启动镜像，虽然主要用于启动设备，但可能包含modem或基带相关的文件。</li><li><strong>system.img</strong>：包含Android系统文件的映像文件，某些字库文件也可能包含在系统镜像中。</li><li><strong>QCS405.img</strong>：高通平台的基带固件文件。</li><li><strong>MDM9x35.mbn、MDM9x50.mbn</strong>：高通平台的基带固件文件，分别用于不同型号的设备。</li><li><strong>ril</strong>：Radio Interface Layer相关的文件，用于与基带、无线电模块进行通信（虽然它不直接属于字库的一部分，但与字库紧密相关）。</li><li><strong>debug.log</strong>：用于调试的日志文件，可能包含基带和无线通信相关的调试信息。</li><li><strong>dsp_fw.bin</strong>：用于控制和处理数字信号的固件文件，可能与无线通信相关。</li></ol><p>我们不可能单独一一备份这些文件，这里我们需要使用脚本来备份。</p><p>访问<a href="https://github.com/xxx252525/Android-flash-memory-backup" target="_blank" rel="noopener noreferrer">https://github.com/xxx252525/Android-flash-memory-backup</a> 下载脚本</p><figure><img src="'+h+'" alt="image-20241220170544624" tabindex="0" loading="lazy"><figcaption>image-20241220170544624</figcaption></figure><p>脚本上传到手机，或者下载到手机。</p>',74)]))}]]),m=JSON.parse('{"path":"/Blog/%E5%A6%82%E4%BD%95%E5%A4%87%E4%BB%BD%E5%AD%97%E5%BA%93.html","title":"Flash Memory(字库)如何备份","lang":"zh-CN","frontmatter":{"icon":"/assets/icon/鱼板.svg","category":["博客"],"contributors":true,"lastUpdated":true,"pageview":true,"isOriginal":true,"date":"2024-12-25T00:00:00.000Z","description":"Flash Memory(字库)如何备份 字库就是Flash Memory。 字库通常指以下关键数据： NVRAM（Non-Volatile Random Access Memory）：包含 IMEI、WiFi MAC 地址、蓝牙地址等校验信息。 Modem 分区（基带数据）：存储设备通信相关的驱动程序和配置。 EFS（Encrypting File ...","head":[["meta",{"property":"og:url","content":"https://xxx252525.github.io/Blog/%E5%A6%82%E4%BD%95%E5%A4%87%E4%BB%BD%E5%AD%97%E5%BA%93.html"}],["meta",{"property":"og:site_name","content":"天韵阁"}],["meta",{"property":"og:title","content":"Flash Memory(字库)如何备份"}],["meta",{"property":"og:description","content":"Flash Memory(字库)如何备份 字库就是Flash Memory。 字库通常指以下关键数据： NVRAM（Non-Volatile Random Access Memory）：包含 IMEI、WiFi MAC 地址、蓝牙地址等校验信息。 Modem 分区（基带数据）：存储设备通信相关的驱动程序和配置。 EFS（Encrypting File ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-01-12T04:05:20.000Z"}],["meta",{"property":"article:published_time","content":"2024-12-25T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2026-01-12T04:05:20.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Flash Memory(字库)如何备份\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-12-25T00:00:00.000Z\\",\\"dateModified\\":\\"2026-01-12T04:05:20.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"小青瑶🍥⚧[前天阁创客official]\\",\\"url\\":\\"https://github.com/xxx252525\\",\\"email\\":\\"tiangesec@qq.com\\"}]}"]]},"headers":[{"level":2,"title":"基带版本未知错误","slug":"基带版本未知错误","link":"#基带版本未知错误","children":[]},{"level":2,"title":"判断","slug":"判断","link":"#判断","children":[]},{"level":2,"title":"解决","slug":"解决","link":"#解决","children":[{"level":3,"title":"准备工具","slug":"准备工具","link":"#准备工具","children":[]},{"level":3,"title":"备份基带数据","slug":"备份基带数据","link":"#备份基带数据","children":[{"level":4,"title":"使用adb和dd备份","slug":"使用adb和dd备份","link":"#使用adb和dd备份","children":[]}]},{"level":3,"title":"恢复基带数据","slug":"恢复基带数据","link":"#恢复基带数据","children":[{"level":4,"title":"使用adb和dd恢复","slug":"使用adb和dd恢复","link":"#使用adb和dd恢复","children":[]},{"level":4,"title":"使用fastboot刷写","slug":"使用fastboot刷写","link":"#使用fastboot刷写","children":[]}]}]},{"level":2,"title":"字库备份","slug":"字库备份","link":"#字库备份","children":[]}],"git":{"createdTime":1768190720000,"updatedTime":1768190720000,"contributors":[{"name":"xxx252525","username":"xxx252525","email":"1072441436@qq.com","commits":1,"url":"https://github.com/xxx252525"}]},"readingTime":{"minutes":6.3,"words":1891},"filePathRelative":"Blog/如何备份字库.md","localizedDate":"2024年12月25日","autoDesc":true}')}}]);