"use strict";(self.webpackChunkxxx252525_github_io=self.webpackChunkxxx252525_github_io||[]).push([[2897],{1021:(i,s)=>{s.A=(i,s)=>{const t=i.__vccOpts||i;for(const[i,a]of s)t[i]=a;return t}},7220:(i,s,t)=>{t.r(s),t.d(s,{comp:()=>g,data:()=>o});var a=t(6254);const e=t.p+"assets/img/image-20241016173611674.ca2e2d35.png",n=t.p+"assets/img/image-20241016174253144.2f79713f.png",h=t.p+"assets/img/image-20241016175537477.c1b179f4.png",l=t.p+"assets/img/image-20241016180709730.3b92b61d.png",d=t.p+"assets/img/image-20241016180820228.466ba31b.png",r=t.p+"assets/img/image-20241016181106916.d152daf4.png",p=t.p+"assets/img/image-20241016181210404.c37591b8.png",k={},g=(0,t(1021).A)(k,[["render",function(i,s){return(0,a.uX)(),(0,a.CE)("div",null,s[0]||(s[0]=[(0,a.Fv)('<h1 id="_07-linux权限" tabindex="-1"><a class="header-anchor" href="#_07-linux权限"><span>07-Linux权限</span></a></h1><p>在 Linux 中，将使用系统资源的人员分为 4 类：超级用户（root）、文件或目录的属主（user）、属主的同一组群人（group）和其他人员（other）。由于超级用户（root）具有操作 Linux 系统的一切权限，所以不用指定超级用户（root）对文件和目录的访问权限。对于其他 3 类用户都要指定对文件和目录的访问权限，对每一类用户都有 3 种基本的权限需要说明。</p><table><thead><tr><th>字符</th><th>权限</th><th>对文件的含义</th><th>对目录的含义</th><th>八进制【权限数字】</th></tr></thead><tbody><tr><td>r</td><td>读权限</td><td>读取文件的内容</td><td>查看目录的内容</td><td>4</td></tr><tr><td>w</td><td>写权限</td><td>修改文件内容</td><td>修改目录的内容：增删改</td><td>2</td></tr><tr><td>x</td><td>执行权限</td><td>执行文件</td><td>进入目录</td><td>1</td></tr></tbody></table><p>注意：</p><ul><li>目录上只有执行权限，表示可以进入或穿越该目录进入更深层次的子目录。</li><li>目录上只有执行权限，要访问该目录下的有读权限的文件，必须知道文件名。</li><li>目录上只有执行权限，不能列出目录列表也不能删除该目录。</li><li>目录上有执行权限和读权限，表示可以进入目录并列出目录列表。</li><li>目录上有执行权限和写权限，表示可以在目录中创建、删除和重命名文件。</li></ul><p>权限划分如下：</p><figure><img src="'+e+'" alt="image-20241016173611674" tabindex="0" loading="lazy"><figcaption>image-20241016173611674</figcaption></figure><p>使用<code>ls -l</code>命令即可以上图的形式展现内容。</p><figure><img src="'+n+'" alt="image-20241016174253144" tabindex="0" loading="lazy"><figcaption>image-20241016174253144</figcaption></figure><p>我们可以看见，目录和文件都是存在权限的。</p><p>权限列表第一个字符为文件类型，文件类型标识符如下：</p><table><thead><tr><th>标识符</th><th>类型</th><th>标识符</th><th>类型</th></tr></thead><tbody><tr><td>d</td><td>目录</td><td>-</td><td>普通文件</td></tr><tr><td>l</td><td>软链接</td><td>b</td><td>块设备</td></tr><tr><td>c</td><td>字符设备</td><td>p</td><td>命令管道文件</td></tr><tr><td>s</td><td>套接字文件</td><td>---</td><td>---</td></tr></tbody></table><p>在Linux操作系统中，一般会定义文件和目录权限的颜色，而在Android shell中，默认是没有定义的，但是可以通过第三方命令行模拟工具查看，第三方工具有语法高亮，例如：termuis、termux等工具。可执行文件默认是绿色的。</p><h2 id="权限命令" tabindex="-1"><a class="header-anchor" href="#权限命令"><span>权限命令</span></a></h2><h3 id="chmod" tabindex="-1"><a class="header-anchor" href="#chmod"><span>chmod</span></a></h3><p>更改文件和目录的操作权限使用 chmod命令进行，有两种设置方法：文字设定法和数值设定法。</p><h4 id="字符修改法" tabindex="-1"><a class="header-anchor" href="#字符修改法"><span>字符修改法</span></a></h4><p>通过<code>+</code>、<code>-</code>、<code>=</code>权限修改符号和u、g、o用户，以及r、w、x，符号来实现权限的修改，例如：</p><figure><img src="'+h+'" alt="image-20241016175537477" tabindex="0" loading="lazy"><figcaption>image-20241016175537477</figcaption></figure><p>我是用+x的方式给所有用户Hello.py执行权限，但最后失败了，因为文件所属的用户不是root，并且不属于任何用户组，这是厂商对Android进行定制的时候设置的特殊账户，防止使用root权限去修改一些重要的文件权限。</p><p>还有一个原因是因为Android把这个用户目录的权限进行了隔离，比如现在的软件安装好之后，用户无法去修改一些文件权限，这是目录的权限太低了，我们尝试去换一个目录：</p><figure><img src="'+l+'" alt="image-20241016180709730" tabindex="0" loading="lazy"><figcaption>image-20241016180709730</figcaption></figure><p>权限更改成功，所有的用户都拿到了执行权限，如果要删除权限，直接使用<code>-</code>号即可，例如：</p><figure><img src="'+d+'" alt="image-20241016180820228" tabindex="0" loading="lazy"><figcaption>image-20241016180820228</figcaption></figure><p>那么如何给固定的用户权限呢？</p><figure><img src="'+r+'" alt="image-20241016181106916" tabindex="0" loading="lazy"><figcaption>image-20241016181106916</figcaption></figure><h4 id="数值修改法" tabindex="-1"><a class="header-anchor" href="#数值修改法"><span>数值修改法</span></a></h4><p>我们可以通过数字去修改用户的权限，每个数值就对应着不同的用户，例如：</p><figure><img src="'+p+'" alt="image-20241016181210404" tabindex="0" loading="lazy"><figcaption>image-20241016181210404</figcaption></figure><p>数字是什么意思？前面说了，读权限就是4，写权限就是2，执行权限就是1，不同的组合就是不同的权限，例如rwx=7、rw=6、rx=5、wx=3。</p><h3 id="chown" tabindex="-1"><a class="header-anchor" href="#chown"><span>chown</span></a></h3><p>改变文件的属主和属组可以使用 chown命令。利用 chown 将指定文件的拥有者改为指定的用户或组，用户可以是用户名或者 UID，组可以是组名或者 GID。</p><p>例如：</p><p>将 test.txt 文件用户组与用户都改为 root</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redroid_arm64:/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $  </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test.txt</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rwx------.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> miui</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> miui</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 929</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9月</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 29</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 09:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test.txt</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redroid_arm64:/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $  </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">chown</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root:root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test.txt</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redroid_arm64:/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $  </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test.txt</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rwx------.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 929</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9月</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 29</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 09:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将 test.txt 文件用户组与用户都改为 root，并显示动作信息</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redroid_arm64:/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $  </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test.txt</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rwx------.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> miui</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> miui</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 929</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9月</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 29</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 09:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test.txt</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redroid_arm64:/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $ </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">chown</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root:root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test.txt</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">changed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ownership</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;test.txt&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> miui:miui</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root:root</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将 test.txt 文件用户组改为 miui</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redroid_arm64:/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $  </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test.txt</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rwx------.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 929</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9月</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 29</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 09:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test.txt</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redroid_arm64:/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $  </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">chown</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> :miui</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test.txt</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">redroid_arm64:/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> $  </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test.txt</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">-rwx------.</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> miui</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 929</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 9月</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 29</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 09:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> test.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>',39)]))}]]),o=JSON.parse('{"path":"/AndroidReverse/01-Android%E5%9F%BA%E7%A1%80/07-Linux%E6%9D%83%E9%99%90.html","title":"07-Linux权限","lang":"zh-CN","frontmatter":{"icon":"/assets/icon/android.svg","category":["Android逆向"],"contributors":true,"lastUpdated":true,"pageview":true,"isOriginal":true,"description":"07-Linux权限 在 Linux 中，将使用系统资源的人员分为 4 类：超级用户（root）、文件或目录的属主（user）、属主的同一组群人（group）和其他人员（other）。由于超级用户（root）具有操作 Linux 系统的一切权限，所以不用指定超级用户（root）对文件和目录的访问权限。对于其他 3 类用户都要指定对文件和目录的访问权限，...","head":[["meta",{"property":"og:url","content":"https://xxx252525.github.io/AndroidReverse/01-Android%E5%9F%BA%E7%A1%80/07-Linux%E6%9D%83%E9%99%90.html"}],["meta",{"property":"og:site_name","content":"天阁创客的三味书屋"}],["meta",{"property":"og:title","content":"07-Linux权限"}],["meta",{"property":"og:description","content":"07-Linux权限 在 Linux 中，将使用系统资源的人员分为 4 类：超级用户（root）、文件或目录的属主（user）、属主的同一组群人（group）和其他人员（other）。由于超级用户（root）具有操作 Linux 系统的一切权限，所以不用指定超级用户（root）对文件和目录的访问权限。对于其他 3 类用户都要指定对文件和目录的访问权限，..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-15T05:06:19.000Z"}],["meta",{"property":"article:modified_time","content":"2025-02-15T05:06:19.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"07-Linux权限\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-02-15T05:06:19.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"天阁创客official\\",\\"url\\":\\"https://tiangesec.org.cn\\",\\"email\\":\\"tiangesec@qq.com\\"}]}"]]},"headers":[{"level":2,"title":"权限命令","slug":"权限命令","link":"#权限命令","children":[{"level":3,"title":"chmod","slug":"chmod","link":"#chmod","children":[{"level":4,"title":"字符修改法","slug":"字符修改法","link":"#字符修改法","children":[]},{"level":4,"title":"数值修改法","slug":"数值修改法","link":"#数值修改法","children":[]}]},{"level":3,"title":"chown","slug":"chown","link":"#chown","children":[]}]}],"git":{"createdTime":1739595979000,"updatedTime":1739595979000,"contributors":[{"name":"xxx252525","username":"xxx252525","email":"1072441436@qq.com","commits":1,"url":"https://github.com/xxx252525"}]},"readingTime":{"minutes":4.09,"words":1226},"filePathRelative":"AndroidReverse/01-Android基础/07-Linux权限.md","localizedDate":"2025年2月15日","autoDesc":true}')}}]);